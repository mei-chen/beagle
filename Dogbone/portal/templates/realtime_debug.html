<!DOCTYPE html>
<html>
<head>
  <title>Realtime Django</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
  <script src="//localhost:4003/socket.io/socket.io.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      var socket = io.connect('{{ NODEJS_SERVER }}', {port: 4003});
      
      socket.on('connect', function(){
        console.log("connect");
      });
      
      var comments = $('#comments');
               
      socket.on('message', function(message) {
        console.log(message);
        comments.append(
          `<li><pre>${JSON.stringify(message, null, 2)}</pre></li><hr />`
        );
      });
    });
  </script>
</head>
<body>
  <h1>Node.js SocketIO Log</h1>
  <hr />
  <ul id="comments"></ul>
</body>
</html>
