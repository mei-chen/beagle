{% extends "_layout.html" %}

{% block extra_css %}
<link href="/static/css/purchase/base_page.css" rel="stylesheet" />
{% endblock %}

{% block content %}
<div class="purchase checkout">

  {% include "session_messages.html" %}
  {% include "shopping_cart.html" with cart=cart %}

  <form class="payment" method="post">
    {% csrf_token %}
    <div id="braintree-container"></div>
    <button class="checkout" type="submit">Checkout</button>
  </form>

  <script src="https://js.braintreegateway.com/v2/braintree.js"></script>
  <script>
    braintree.setup("{{ braintree_token }}", "dropin", {
      container: "braintree-container"
    });
  </script>
</div>
{% endblock %}


{% block extra_js %}
    {% if HOT_LOAD %}
        <script type="text/javascript" src="{{ REACT_LOCAL_ADDRESS }}/static/react/build/header.entry.js"></script>
    {% else %}
        <script type="text/javascript" src="/static/react/build/header.entry.js?{{ git_revision }}"></script>
    {% endif %}
{% endblock %}
